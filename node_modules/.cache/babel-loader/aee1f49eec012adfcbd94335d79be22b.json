{"ast":null,"code":"var Emitter = require('events/');\n\nvar wheel = require('wheel');\n\nmodule.exports = getScroller;\n\nfunction getScroller(element, preventDefault) {\n  var scroll = new Emitter();\n  scroll.flush = flush;\n  flush();\n\n  if (typeof window === 'undefined') {\n    return scroll;\n  }\n\n  element = element || window;\n  wheel(element, onscroll, false);\n  return scroll;\n\n  function flush() {\n    scroll[0] = scroll[1] = scroll[2] = 0;\n  }\n\n  function onscroll(e) {\n    // Normal/Line scrolling\n    var scale = e.deltaMode === 1 ? 12 : 1;\n    scroll[0] += scale * (e.deltaX || 0);\n    scroll[1] += scale * (e.deltaY || 0);\n    scroll[2] += scale * (e.deltaZ || 0);\n    scroll.emit('scroll', scroll);\n    if (!preventDefault) return;\n    if (!e.preventDefault) return;\n    e.preventDefault();\n    if (e.stopPropagation) e.stopPropagation();\n  }\n}","map":null,"metadata":{},"sourceType":"script"}